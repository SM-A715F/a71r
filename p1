/* SPDX-License-Identifier: GPL-2.0 */
/*
 * Copyright (C) 2018 MIPS Tech, LLC
 * Author: Matt Redfearn <matt.redfearn@mips.com>
 */

#ifndef __MIPS_ASM_ISA_REV_H__
#define __MIPS_ASM_ISA_REV_H__

static void dfx_register_res_alloc_err(const char *print_name, bool mmio,
				       bool eisa)
{
	pr_err("%s: Cannot use %s, no address set, aborting\n",
	       print_name, mmio ? "MMIO" : "I/O");
	pr_err("%s: Recompile driver with \"CONFIG_DEFXX_MMIO=%c\"\n",
	       print_name, mmio ? 'n' : 'y');
	if (eisa && mmio)
		pr_err("%s: Or run ECU and set adapter's MMIO location\n",
		       print_name);
}

static void dfx_register_res_err(const char *print_name, bool mmio,
				 unsigned long start, unsigned long len)
{
	pr_err("%s: Cannot reserve %s resource 0x%lx @ 0x%lx, aborting\n",
	       print_name, mmio ? "MMIO" : "I/O", len, start);
}

static inline struct f_uac1_opts *g_audio_to_uac1_opts(struct g_audio *audio)
{
	return container_of(audio->func.fi, struct f_uac1_opts, func_inst);
}

/*
 * The ISA revision level. This is 0 for MIPS I to V and N for
 * MIPS{32,64}rN.
 */

/* If the compiler has defined __mips_isa_rev, believe it. */
#ifdef __mips_isa_rev
#define MIPS_ISA_REV __mips_isa_rev
#else
/* The compiler hasn't defined the isa rev so assume it's MIPS I - V (0) */
#define MIPS_ISA_REV 0
#endif


#endif /* __MIPS_ASM_ISA_REV_H__ */
